---
title: 'CA1509: Invalid entry in code metrics configuration file'
ms.date: 04/28/2020
ms.topic: reference
f1_keywords:
- CA1509
- CodeMetricsAnalyzer
helpviewer_keywords:
- CodeMetricsAnalyzer
- CA1509
author: mavasani
ms.author: mavasani
manager: jillfra
ms.workload:
- multiple
---
# CA1509: Invalid entry in code metrics configuration file

|Item|Value|
|-|-|
|CheckId|CA1509|
|Category|Microsoft.Maintainability|
|Breaking change|Non-Breaking|

## Cause

Code metrics rules, such as [CA1501](ca1501.md), [CA1502](ca1502.md), [CA1505](ca1505.md) and [CA1506](ca1506.md), supplied a configuration file named `CodeMetricsConfig.txt` that has an invalid entry.

## Rule description

[FxCop analyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) implementation of [code metrics](code-metrics-values.md) analysis rules allow end users to supply an [additional file](https://github.com/dotnet/roslyn/blob/release/dev16.6/docs/analyzers/Using%20Additional%20Files.md) named `CodeMetricsConfig.txt`. This file contains entries to configure code metric thresholds for analysis. Following rules are configurable in this file:

- [CA1501: Avoid excessive inheritance](ca1501.md)
- [CA1502: Avoid excessive complexity](ca1502.md)
- [CA1505: Avoid unmaintainable code](ca1505.md)
- [CA1506: Avoid excessive class coupling](ca1506.md)

This configuration file expects each entry to be in following format:

```ini
'RuleId'(Optional 'SymbolKind'): 'Threshold'
```

- Valid values for 'RuleId' are `CA1501`, `CA1502`, `CA1505`, and `CA1506`.
- Valid values for optional 'SymbolKind' are `Assembly`, `Namespace`, `Type`, `Method`, `Field`, `Event`, and `Property`.
- Valid values for 'Threshold' are non-negative integers.
- Lines starting with '#' are treated as comment lines

For example, the following is a valid configuration file:

```ini
# Comment text

CA1501: 1

CA1502(Type): 4
CA1502(Method): 2
```

An invalid entry in this configuration file is flagged with the `CA1509` diagnostic.

> [!NOTE]
> Rule CA1509 is not available in legacy analysis. It was first introduced in [FxCop analyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) version 2.9.6.


## How to fix violations

To fix a violation of this rule, make sure the invalid entry in `CodeMetricsConfig.txt` gets the required format.

## When to suppress warnings

Do not suppress violations of this rule.

## Related rules

- [CA1501: Avoid excessive inheritance](ca1501.md)
- [CA1502: Avoid excessive complexity](ca1502.md)
- [CA1505: Avoid unmaintainable code](ca1505.md)
- [CA1506: Avoid excessive class coupling](ca1506.md)

## See also

- [Maintainability warnings](maintainability-warnings.md)
- [Measure complexity and maintainability of managed code](code-metrics-values.md)
