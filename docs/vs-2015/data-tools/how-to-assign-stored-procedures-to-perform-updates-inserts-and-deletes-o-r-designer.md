---
title: "How to: Assign stored procedures to perform updates, inserts, and deletes (O-R Designer) | Microsoft Docs"
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-data-tools
ms.topic: conceptual
ms.assetid: e88224ab-ff61-4a3a-b6b8-6f3694546cac
caps.latest.revision: 5
author: gewarren
ms.author: gewarren
manager: jillfra
---
# How to: Assign stored procedures to perform updates, inserts, and deletes (O/R Designer)
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Stored procedures can be added to the O/R Designer and executed as typical <xref:System.Data.Linq.DataContext> methods. They can also be used to override the default [!INCLUDE[vbtecdlinq](../includes/vbtecdlinq-md.md)] runtime behavior that performs Inserts, Updates, and Deletes when changes are saved from entity classes to a database (for example, when calling the <xref:System.Data.Linq.DataContext.SubmitChanges%2A> method).  
  
> [!NOTE]
> If your stored procedure returns values that need to be sent back to the client (for example, values calculated in the stored procedure), create output parameters in your stored procedures. If you cannot use output parameters, write a partial method implementation instead of relying on overrides generated by the O/R Designer. Members mapped to database-generated values need to be set to appropriate values after successful completion of INSERT or UPDATE operations. For more information, see [Responsibilities of the Developer In Overriding Default Behavior](https://msdn.microsoft.com/library/c6909ddd-e053-46a8-980c-0e12a9797be1).  
  
> [!NOTE]
> [!INCLUDE[vbtecdlinq](../includes/vbtecdlinq-md.md)] handles database-generated values automatically for identity (auto-increment), rowguidcol (database-generated GUID), and timestamp columns. Database-generated values in other column types will unexpectedly result in a null value. To return the database-generated values, you should manually set <xref:System.Data.Linq.Mapping.ColumnAttribute.IsDbGenerated%2A> to `true` and <xref:System.Data.Linq.Mapping.ColumnAttribute.AutoSync%2A> to one of the following: <xref:System.Data.Linq.Mapping.AutoSync>, <xref:System.Data.Linq.Mapping.AutoSync>, or <xref:System.Data.Linq.Mapping.AutoSync>.  
  
## Configuring the Update Behavior of an Entity Class  
 By default, the logic to update a database (Inserts, Updates, and Deletes) with changes that were made to the data in [!INCLUDE[vbtecdlinq](../includes/vbtecdlinq-md.md)] entity classes is provided by the [!INCLUDE[vbtecdlinq](../includes/vbtecdlinq-md.md)] runtime. The runtime creates default Insert, Update, and Delete commands that are based on the schema of the table (the column and primary key information). When the default behavior is not desired, you can configure the update behavior by assigning specific stored procedures for performing the necessary Inserts, Updates, and Deletes required to manipulate the data in your table. You can also do this when the default behavior is not generated, for example, when your entity classes map to views. Finally, you can override the default update behavior when the database requires table access through stored procedures.  
  
 [!INCLUDE[note_settings_general](../includes/note-settings-general-md.md)]  
  
#### To assign stored procedures to override the default behavior of an entity class  
  
1. Open the **LINQ to SQL** file in the designer. (Double-click the .dbml file in **Solution Explorer**.)  
  
2. In **Server Explorer**/**Database Explorer**, expand **Stored Procedures** and locate the stored procedures that you want to use for the Insert, Update, and/or Delete commands of the entity class.  
  
3. Drag the stored procedure onto the O/R Designer.  
  
     The stored procedure is added to the methods pane as a <xref:System.Data.Linq.DataContext> method. For more information, see [DataContext Methods (O/R Designer)](../data-tools/datacontext-methods-o-r-designer.md).  
  
4. Select the entity class for which you want to use the stored procedure for performing updates.  
  
5. In the **Properties** window, select the command to override (**Insert**, **Update**, or **Delete**).  
  
6. Click the ellipsis (...) next to the words **Use Runtime** to open the **Configure Behavior** dialog box.  
  
7. Select **Customize**.  
  
8. Select the desired stored procedure in the **Customize** list.  
  
9. Inspect the list of **Method Arguments** and **Class Properties** to verify that the **Method Arguments** map to the appropriate **Class Properties**. Map the original method arguments (Original_*ArgumentName*) to the original properties (*PropertyName* (Original)) for Update and Delete commands.  
  
    > [!NOTE]
    > By default, method arguments map to class properties when the names match. If changed property names no longer match between the table and the entity class, you might have to select the equivalent class property to map to if the designer cannot determine the correct mapping.  
  
10. Click **OK** or **Apply**.  
  
    > [!NOTE]
    > You can continue to configure the behavior for each class/behavior combination as long as you click **Apply** after you make each change. If you change the class or behavior before you click **Apply**, a warning dialog box providing an opportunity to apply any changes will appear.  
  
     To revert to using the default runtime logic for updates, click the ellipsis next to the Insert, Update, or Delete command in the **Properties** window and then select **Use runtime** in the **Configure Behavior** dialog box.  
  
## See also  
 [LINQ to SQL Tools in Visual Studio](../data-tools/linq-to-sql-tools-in-visual-studio2.md)   
 [DataContext Methods (O/R Designer)](../data-tools/datacontext-methods-o-r-designer.md)   
 [Walkthrough: Creating LINQ to SQL Classes (O-R Designer)](https://msdn.microsoft.com/library/35aad4a4-2e8a-46e2-ae09-5fbfd333c233)   
 [LINQ to SQL](https://msdn.microsoft.com/library/73d13345-eece-471a-af40-4cc7a2f11655)   
 [Insert, Update, and Delete Operations](https://msdn.microsoft.com/library/26a43a4f-83c9-4732-806d-bb23aad0ff6b)
