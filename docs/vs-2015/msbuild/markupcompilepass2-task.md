---
title: "MarkupCompilePass2 Task | Microsoft Docs"
ms.date: 11/15/2016
ms.prod: "visual-studio-dev14"
ms.technology: msbuild
ms.topic: reference
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "performing second-pass markup [WPF MSBuild], MarkupCompilePass2 task"
  - "MarkupCompilePass2 task [WPF MSBuild]"
  - "MarkupCompilePass2 task [WPF MSBuild], parameters"
ms.assetid: 1d25689a-d21f-4b05-be26-95aa0ed4fd03
caps.latest.revision: 11
author: mikejo5000
ms.author: mikejo
manager: jillfra
---
# MarkupCompilePass2 Task
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

The <xref:Microsoft.Build.Tasks.Windows.MarkupCompilePass2> task performs second-pass markup compilation on [!INCLUDE[TLA#tla_xaml](../includes/tlasharptla-xaml-md.md)] files that reference types in the same project.  
  
## Task Parameters  
  
|Parameter|Description|  
|---------------|-----------------|  
|`AlwaysCompileMarkupFilesInSeparateDomain`|Optional **Boolean** parameter.<br /><br /> Specifies whether to run the task in a separate <xref:System.AppDomain>. If this parameter returns **false**, the task runs in the same <xref:System.AppDomain> as [!INCLUDE[TLA#tla_msbuild](../includes/tlasharptla-msbuild-md.md)], and it runs faster. If the parameter returns **true**, the task runs in a second <xref:System.AppDomain> that is isolated from [!INCLUDE[TLA2#tla_msbuild](../includes/tla2sharptla-msbuild-md.md)] and runs slower.|  
|`AssembliesGeneratedDuringBuild`|Optional **String[]** parameter.<br /><br /> Specifies references to assemblies that change during the build process. For example, a [!INCLUDE[TLA#tla_visualstu2005](../includes/tlasharptla-visualstu2005-md.md)] solution may contain one project that references the compiled output of another project. In this case, the compiled output of the second project can be added to **AssembliesGeneratedDuringBuild**.<br /><br /> Note: **AssembliesGeneratedDuringBuild** must contain references to the complete set of assemblies that are generated by a build solution.|  
|`AssemblyName`|Required **String** parameter.<br /><br /> Specifies the short name of the assembly that is generated for a project. For example, if a project is generating a [!INCLUDE[TLA#tla_win](../includes/tlasharptla-win-md.md)] executable whose name is **WinExeAssembly.exe**, the **AssemblyName** parameter has a value of **WinExeAssembly**.|  
|`GeneratedBaml`|Optional **ITaskItem[]** output parameter.<br /><br /> Contains the list of generated files in [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] binary format.|  
|`KnownReferencePaths`|Optional **String[]** parameter.<br /><br /> Specifies references to assemblies that are never changed during the build process. Includes assemblies that are located in the [!INCLUDE[TLA#tla_gac](../includes/tlasharptla-gac-md.md)], in a [!INCLUDE[TLA#tla_netframewk](../includes/tlasharptla-netframewk-md.md)] installation directory, and so on.|  
|`Language`|Required **String** parameter.<br /><br /> Specifies the managed language that the compiler supports. The valid options are **C#**, **VB**, **JScript**, and **C++**.|  
|`LocalizationDirectivesToLocFile`|Optional **String** parameter.<br /><br /> Specifies how to generate localization information for each source [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] file. The valid options are **None**, **CommentsOnly**, and **All**.|  
|`OutputPath`|Required **String** parameter.<br /><br /> Specifies the directory in which the generated [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] binary format files are generated.|  
|`OutputType`|Required **String** parameter.<br /><br /> Specifies the type of assembly that is generated by a project. The valid options are **winexe**, **exe**, **library**, and **netmodule**.|  
|`References`|Optional **ITaskItem[]** parameter.<br /><br /> Specifies the list of references from files to assemblies that contain the types that are used in the [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] files. One reference is to the assembly that was generated by the <xref:Microsoft.Build.Tasks.Windows.GenerateTemporaryTargetAssembly> task, which must be run before the <xref:Microsoft.Build.Tasks.Windows.MarkupCompilePass2> task.|  
|`RootNamespace`|Optional **String** parameter.<br /><br /> Specifies the root namespace for classes that are inside the project. **RootNamespace** is also used as the default namespace of a generated managed code file when the corresponding [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] file does not include the `x:Class` attribute.|  
|`XAMLDebuggingInformation`|Optional **Boolean** parameter.<br /><br /> When **true**, diagnostic information is generated and included in the compiled [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] in order to aid debugging.|  
  
## Remarks  
 Before you run **MarkupCompilePass2**, you must generate a temporary assembly that contains the types that are used by the [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] files whose markup compilation pass were deferred. You generate the temporary assembly by running the **GenerateTemporaryTargetAssembly** task.  
  
 A reference to the generated temporary assembly is provided to <xref:Microsoft.Build.Tasks.Windows.MarkupCompilePass2> when it runs, allowing the [!INCLUDE[TLA2#tla_xaml](../includes/tla2sharptla-xaml-md.md)] files whose compilation was deferred in the first markup compilation pass to now be compiled to binary format.  
  
## Example  
 The following example shows how to use the <xref:Microsoft.Build.Tasks.Windows.MarkupCompilePass2> task to perform a second pass compilation.  
  
```  
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">  
  <UsingTask   
    TaskName="Microsoft.Build.Tasks.Windows.MarkupCompilePass2"   
    AssemblyFile="C:\Program Files\Reference Assemblies\Microsoft\Framework\v3.0\PresentationBuildTasks.dll" />  
  <Target Name="MarkupCompilePass2Task">  
    <MarkupCompilePass2   
      AssemblyName="WPFMSBuildSample"  
      Language="C#"  
      OutputType="WinExe"  
      OutputPath="obj\Debug\"  
      References=".\obj\debug\WPFMSBuildSample.exe;c:\windows\Microsoft.net\Framework\v2.0.50727\System.dll;C:\Program Files\Reference Assemblies\Microsoft\WinFx\v3.0\PresentationCore.dll;C:\Program Files\Reference Assemblies\Microsoft\WinFx\v3.0\PresentationFramework.dll;C:\Program Files\Reference Assemblies\Microsoft\WinFx\v3.0\WindowsBase.dll" />  
  </Target>  
</Project>  
```  
  
## See also  
 [WPF MSBuild Reference](../msbuild/wpf-msbuild-reference.md)   
 [Task Reference](../msbuild/wpf-msbuild-task-reference.md)   
 [MSBuild Reference](../msbuild/msbuild-reference.md)   
 [Task Reference](../msbuild/msbuild-task-reference.md)   
 [Building a WPF Application (WPF)](https://msdn.microsoft.com/library/a58696fd-bdad-4b55-9759-136dfdf8b91c)   
 [WPF XAML Browser Applications Overview](https://msdn.microsoft.com/library/3a7a86a8-75d5-4898-96b9-73da151e5e16)
